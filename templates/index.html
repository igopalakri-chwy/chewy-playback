{% extends "base.html" %}

{% block title %}Welcome - Chewy Playback{% endblock %}

{% block content %}
<div class="landing-container">
    <div class="landing-content">
        <!-- Logo/Brand -->
        <div class="brand-section">
            <div class="logo-container">
                <i class="fas fa-paw logo-icon"></i>
            </div>
            <h1 class="brand-title">Chewy Playback</h1>
            <p class="brand-subtitle">Your Pet's Year in Review</p>
        </div>
        
        <!-- Input Form -->
        <div class="input-section">
            <div class="input-card">
                <h2 class="input-title">Enter Your Customer ID</h2>
                <p class="input-description">Discover your pet's personalized experience</p>
                
                <form id="customerForm" class="customer-form">
                    <div class="input-group">
                        <div class="input-wrapper">
                            <i class="fas fa-user input-icon"></i>
                            <input 
                                type="text" 
                                id="customerId" 
                                name="customerId" 
                                placeholder="e.g., 1154095"
                                class="customer-input"
                                required
                                autocomplete="off"
                            >
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <span class="btn-text">Let's Go!</span>
                        <i class="fas fa-arrow-right btn-icon"></i>
                    </button>
                </form>
                
                <div class="demo-note">
                    <p><a href="/customers" class="view-all-link"><i class="fas fa-list"></i> View All Customers</a></p>
                </div>
            </div>
        </div>
        

        
        <!-- Decorative Elements -->
        <div class="decorative-elements">
            <div class="floating-paw paw-1"><i class="fas fa-paw"></i></div>
            <div class="floating-paw paw-2"><i class="fas fa-heart"></i></div>
            <div class="floating-paw paw-3"><i class="fas fa-star"></i></div>
            <div class="floating-paw paw-4"><i class="fas fa-paw"></i></div>
            <div class="floating-paw paw-5"><i class="fas fa-heart"></i></div>
            <div class="floating-paw paw-6"><i class="fas fa-star"></i></div>
            <div class="floating-paw paw-7"><i class="fas fa-paw"></i></div>
            <div class="floating-paw paw-8"><i class="fas fa-heart"></i></div>
            <div class="floating-paw paw-9"><i class="fas fa-star"></i></div>
            <div class="floating-paw paw-10"><i class="fas fa-paw"></i></div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('customerForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const customerId = document.getElementById('customerId').value.trim();
    if (customerId) {
        // Add loading state
        const submitBtn = document.querySelector('.submit-btn');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnIcon = submitBtn.querySelector('.btn-icon');
        
        btnText.textContent = 'Loading...';
        btnIcon.className = 'fas fa-spinner fa-spin btn-icon';
        submitBtn.disabled = true;
        
        // Redirect to experience
        setTimeout(() => {
            window.location.href = `/experience/${customerId}`;
        }, 1000);
    }
});

function goToCustomer(customerId) {
    // Add loading state to the clicked item
    const customerItem = event.currentTarget;
    const originalContent = customerItem.innerHTML;
    
    customerItem.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
    customerItem.style.pointerEvents = 'none';
    
    // Redirect to experience
    setTimeout(() => {
        window.location.href = `/experience/${customerId}`;
    }, 500);
}
</script>
{% endblock %} 